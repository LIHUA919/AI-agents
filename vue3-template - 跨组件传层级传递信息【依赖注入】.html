<script src="vue-3.5.11.global.js"></script>
<script src="https://cdn.tailwindcss.com"></script>

<div id="app">
</div>

<script>
  // import { createApp } from 'https://esm.sh/vue/dist/vue.esm-browser.js'
  const { createApp } = Vue


  var app = createApp({
    template: `
      <div id="app">
        <CompA></CompA>
      </div>
    `,
    // provide: {
    //   x: 8,
    // },
    provide() {
      return {
        x: this.numbers
      }
    },
    data() {
      var x = {
        obj: {
          a:1,
          b:2,
          c:3,
        },
        birthday: new Date(),
        fruits: ['apple', 'banana'],
        showXiaomi: false,
        message: 'Hello Vue! <em>aaa</em> ',
        numbers: [1,2,3,4],
        火车图片们: [{
          link: 'https://www.jd.com',
          imgUrl: 'https://www.12306.cn/index/images/abanner06.jpg',
        }, {
          link: 'https://www.mi.com',
          imgUrl: 'https://www.12306.cn/index/images/abanner01.jpg',
        }],
        小米产品图片: [{
          link: 'https://www.mi.com/shop/buy?product_id=20425',
          imgUrl: 'https://cdn.cnbj1.fds.api.mi-img.com/mi-mall/45cd41662e2e43993d0f9c392e9339a4.jpg?w=2452&h=920',
        }, {
          link: 'https://www.mi.com/shop/buy?product_id=20426',
          imgUrl: 'https://cdn.cnbj1.fds.api.mi-img.com/mi-mall/fbcb40da7fdd41d4fabf86666d2798a9.jpg?thumb=1&w=1103&h=414&f=webp&q=90',
        }, {
          link: 'https://www.xiaomiev.com/',
          imgUrl: 'https://cdn.cnbj1.fds.api.mi-img.com/mi-mall/397f2569b126d8fba446b6bbf57ef771.jpg?thumb=1&w=1103&h=414&f=webp&q=90'
        }],
        tabInfos: [{
          key: '1',
          label: 'Tab 1',
          children: 'Content of Tab Pane 1',
        },
        {
          key: '2',
          label: 'Tab 2',
          children: 'Content of Tab Pane 2',
        },
        {
          key: '3',
          label: 'Tab 3',
          children: 'Content of Tab Pane 3',
        },]
      }
      return x
    },
    methods: {
      log(...args) {
        console.log(...args)
      }
    }
  })
  
  app.component('CompA', {
    props: ['x'],
    beforeUpdate() {
      console.log('a before update')
    },
    template: `
      <div>
        <CompB/>
      </div>
    `,
  })
  app.component('CompB', {
    props: ['a'],
    beforeUpdate() {
      console.log('b before update')
    },
    inject: {
      艾克斯: {
        from: 'x',
        default: 0,
      }
    },
    template: `
      <div>
        I'm Comp B :: {{ 艾克斯 }}
      </div>
    `,
  })


  var mountedApp = app.mount('#app')
</script>
